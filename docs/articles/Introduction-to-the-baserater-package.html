<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the baserater package • baserater</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the baserater package">
<meta property="og:description" content="baserater">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">baserater</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Introduction-to-the-baserater-package.html">Introduction to the baserater package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to the baserater package</h1>
            
      
      
      <div class="hidden name"><code>Introduction-to-the-baserater-package.Rmd</code></div>

    </div>

    
    
<p>The <code>baserater</code> package allows you to:</p>
<ul>
<li>Download a database of group–adjective pairs annotated with
stereotype strength scores generated by large language models (GPT-4 and
LLaMA 3.3);</li>
<li>Generate new typicality ratings using a Hugging Face language model
of your choice, with customizable prompts and parameters;</li>
<li>Evaluate newly generated typicality ratings against human ground
truth (ratings collected from Prolific participants) and benchmark them
against baseline models;</li>
<li>Automatically construct a new base-rate item database from a
group–description typicality matrix.</li>
</ul>
<p>To learn more about the theoretical framework and validation studies
underlying the <code>baserater</code> package, see the paper:</p>
<p><strong>Using Large Language Models to Estimate Belief Strength in
Reasoning</strong> <em>Jérémie Beucler, Zoe Purcell, Lucie Charles, and
Wim De Neys</em> (Preprint link — forthcoming)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jeremie-beucler.github.io/baserater/" class="external-link">baserater</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: package 'ggplot2' was built under R version 4.3.3</span></span>
<span><span class="co">#&gt; Warning: package 'purrr' was built under R version 4.3.3</span></span></code></pre></div>
<div class="section level2">
<h2 id="downloading-the-data">1. Downloading the Data<a class="anchor" aria-label="anchor" href="#downloading-the-data"></a>
</h2>
<p>You can begin by downloading the article datasets using
<code><a href="../reference/download_data.html">download_data()</a></code>.</p>
<p>Use <code><a href="../reference/download_data.html">download_data()</a></code> to retrieve either: - The full
base-rate item database (from GPT-4 and LLaMA 3.3); - The validation
ratings, which include human typicality scores and those generated by
GPT-4 and LLaMA 3.3 on 100 group–adjective pairs. - The two typicality
matrices (from GPT-4 and LLaMA 3.3) that were used to generate the
base-rate item database.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the base-rate database</span></span>
<span><span class="va">database</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_data.html">download_data</a></span><span class="op">(</span><span class="st">"database"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the typicality validation ratings</span></span>
<span><span class="va">ratings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_data.html">download_data</a></span><span class="op">(</span><span class="st">"validation_ratings"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the typicality matrices</span></span>
<span><span class="va">gpt4_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_data.html">download_data</a></span><span class="op">(</span><span class="st">"similarity_matrix_gpt4"</span><span class="op">)</span></span>
<span><span class="va">llama3_3_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/download_data.html">download_data</a></span><span class="op">(</span><span class="st">"similarity_matrix_llama3.3"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="generating-new-typicality-ratings-from-llms-experimental">2. Generating New Typicality Ratings from LLMs (Experimental)<a class="anchor" aria-label="anchor" href="#generating-new-typicality-ratings-from-llms-experimental"></a>
</h2>
<p>You can generate new typicality ratings using a Hugging Face-hosted
language model via <code><a href="../reference/hf_typicality.html">hf_typicality()</a></code>. Note that this is an
experimental feature, as it depends on API availability, and model
compatibility.</p>
<p>The function works by sending structured prompts to a large language
model and parsing numeric outputs (between 0 and 100) that reflect how
well a description (e.g., an adjective) fits a given group. By default,
the function uses the same prompt and generation parameters described in
the paper.</p>
<p>To ensure reproducibility, we include a precomputed result obtained
using the model Llama-3.1-8B-Instruct, a smaller and older version of
Llama-3.3-70B-Instruct available on Hugging Face:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load pre-generated scores</span></span>
<span><span class="va">new_scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"new_typicality_scores_llama3.1_8B.rds"</span>, package <span class="op">=</span> <span class="st">"baserater"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">new_scores</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;   group               description mean_score raw_scores full_responses</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> DJ                  naive               56 <span style="color: #949494;">&lt;dbl [3]&gt;</span>  <span style="color: #949494;">&lt;chr [3]&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> accountant          solitary            58 <span style="color: #949494;">&lt;dbl [3]&gt;</span>  <span style="color: #949494;">&lt;chr [3]&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> actor               altruistic          74 <span style="color: #949494;">&lt;dbl [3]&gt;</span>  <span style="color: #949494;">&lt;chr [3]&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> aerobics instructor impulsive           42 <span style="color: #949494;">&lt;dbl [2]&gt;</span>  <span style="color: #949494;">&lt;chr [3]&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> architect           charismatic         22 <span style="color: #949494;">&lt;dbl [3]&gt;</span>  <span style="color: #949494;">&lt;chr [3]&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> architect           reserved            85 <span style="color: #949494;">&lt;dbl [3]&gt;</span>  <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span></code></pre></div>
<p>If you’d like to generate new scores yourself, you’ll need: - a valid
Hugging Face API token (use
<code>Sys.setenv(HF_API_TOKEN = "your_token")</code> or pass directly);
- to accept the terms of use for the model on Hugging Face (when
necessary); - to ensure that your prompt matches the formatting
expectations of the model you’re using (e.g., special tags, instruction
tokens, etc.).</p>
<p>Here is an example of how the function call might look:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># # Original prompt from the paper</span></span>
<span><span class="co"># original_system_prompt_content &lt;- "You are expert at accurately reproducing the stereotypical associations humans make, in order to annotate data for experiments. Your focus is to capture common societal perceptions and stereotypes, rather than factual attributes of the groups, even when they are negative or unfounded."</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># original_user_prompt_content_template &lt;- 'Rate how well the adjective "{description}" reflects the prototypical member of the group "{group}" on a scale from 0 ("Not at all") to 100 ("Extremely").</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># To clarify, consider the following examples:</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># 1. "Rate how well the adjective "FUNNY" reflects the prototypical member of the group "CLOWN" on a scale from 0 (Not at all) to 100 (Extremely)." A high rating is expected because the adjective "FUNNY" closely aligns with the typical characteristics of a "CLOWN".</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># 2. "Rate how well the adjective "FEARFUL" reflects the prototypical member of the group "FIREFIGHTER" on a scale from 0 (Not at all) to 100 (Extremely)." A low rating is expected because the adjective "FEARFUL" diverges significantly from the typical characteristics of a "FIREFIGHTER".</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># 3. "Rate how well the adjective "PATIENT" reflects the prototypical member of the group "ENGINEER" on a scale from 0 (Not at all) to 100 (Extremely)." A mid-scale rating is expected because the adjective "PATIENT" neither closely aligns nor diverges significantly from the typical characteristics of an "ENGINEER".</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Your response should be a single score between 0 and 100, with no additional text, letters, or symbols included.'</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Llama 3 Formatted Prompts</span></span>
<span><span class="co"># # see https://www.llama.com/docs/model-cards-and-prompt-formats/llama3_1/</span></span>
<span><span class="co"># # These special tags are required for models in the LLaMA 3 family</span></span>
<span><span class="co"># llama3_system_prompt &lt;- paste0(</span></span>
<span><span class="co">#   "&lt;|begin_of_text|&gt;",</span></span>
<span><span class="co">#   "&lt;|start_header_id|&gt;system&lt;|end_header_id|&gt;\n\n",</span></span>
<span><span class="co">#   original_system_prompt_content,</span></span>
<span><span class="co">#   "\n&lt;|eot_id|&gt;"</span></span>
<span><span class="co"># )</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># llama3_user_prompt_template &lt;- paste0(</span></span>
<span><span class="co">#   "&lt;|start_header_id|&gt;user&lt;|end_header_id|&gt;\n\n",</span></span>
<span><span class="co">#   original_user_prompt_content_template,</span></span>
<span><span class="co">#   "\n&lt;|eot_id|&gt;",</span></span>
<span><span class="co">#   "&lt;|start_header_id|&gt;assistant&lt;|end_header_id|&gt;\n\n"</span></span>
<span><span class="co"># )</span></span>
<span></span>
<span><span class="co"># # Example using the validation ratings</span></span>
<span><span class="co"># groups &lt;- ratings$group</span></span>
<span><span class="co"># descriptions &lt;- ratings$adjective</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># hf_token = "YOUR TOKEN HERE" # default = Sys.getenv("HF_API_TOKEN")</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># new_scores &lt;- hf_typicality(</span></span>
<span><span class="co">#   groups                = groups,</span></span>
<span><span class="co">#   descriptions          = descriptions,</span></span>
<span><span class="co">#   model                 = "meta-llama/Llama-3.1-8B-Instruct",</span></span>
<span><span class="co">#   hf_token              = hf_token,</span></span>
<span><span class="co">#   system_prompt         = llama3_system_prompt,</span></span>
<span><span class="co">#   user_prompt_template  = llama3_user_prompt_template,</span></span>
<span><span class="co">#   n                     = 3,</span></span>
<span><span class="co">#   min_valid             = 2,</span></span>
<span><span class="co">#   max_tokens            = 3,</span></span>
<span><span class="co">#   retries               = 1,</span></span>
<span><span class="co">#   matrix                = FALSE,</span></span>
<span><span class="co">#   return_raw_scores     = TRUE,</span></span>
<span><span class="co">#   return_full_responses = TRUE,</span></span>
<span><span class="co">#   verbose               = TRUE</span></span>
<span><span class="co"># )</span></span></code></pre></div>
<p>The <code><a href="../reference/hf_typicality.html">hf_typicality()</a></code> function supports two modes: -
<code>matrix = TRUE</code> (default): Computes a cross-product of unique
groups and descriptions. Returns a list with matrices of scores and
responses. - <code>matrix = FALSE</code>: Computes row-by-row scores for
the group–adjective pairs you supply. Returns a tibble.</p>
<p>See <code><a href="../reference/hf_typicality.html">?hf_typicality</a></code> for full documentation and
customization options.</p>
</div>
<div class="section level2">
<h2 id="evaluating-new-ratings">3. Evaluating New Ratings<a class="anchor" aria-label="anchor" href="#evaluating-new-ratings"></a>
</h2>
<p>You can then assess how well a new model or scoring method captures
group–adjective typicality by comparing your ratings to the human ground
truth and benchmark models (GPT-4 and LLaMA 3.3).</p>
<p>Suppose you create typicality ratings for the 100 validation items
and store them in a data frame with three columns: group, adjective, and
rating.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a data frame with the same structure as the validation set</span></span>
<span><span class="va">new_scores</span> <span class="op">=</span> <span class="va">new_scores</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>adjective <span class="op">=</span> <span class="va">description</span>,</span>
<span>         rating <span class="op">=</span> <span class="va">mean_score</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">group</span>, <span class="va">adjective</span>, <span class="va">rating</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">new_scores</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   group               adjective   rating</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> DJ                  naive           56</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> accountant          solitary        58</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> actor               altruistic      74</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> aerobics instructor impulsive       42</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> architect           charismatic     22</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> architect           reserved        85</span></span></code></pre></div>
<p>Use <code><a href="../reference/evaluate_external_ratings.html">evaluate_external_ratings()</a></code> to compute correlations
and display comparisons:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print correlation summary with human ground truth and baselines</span></span>
<span><span class="fu"><a href="../reference/evaluate_external_ratings.html">evaluate_external_ratings</a></span><span class="op">(</span><span class="va">new_scores</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Optionally store the output in a variable</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluate_external_ratings.html">evaluate_external_ratings</a></span><span class="op">(</span><span class="va">new_scores</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;   model                  r        p</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> external           0.505 8.47<span style="color: #949494;">e</span><span style="color: #BB0000;">- 8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> mean_gpt4_rating   0.885 2.83<span style="color: #949494;">e</span><span style="color: #BB0000;">-34</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> mean_llama3_rating 0.818 2.85<span style="color: #949494;">e</span><span style="color: #BB0000;">-25</span></span></span></code></pre></div>
<p>As you can see, the smaller and older Llama-3.1-8B-Instruct does not
perform as our baseline models (GPT-4 and LLaMA 3.3-70B).</p>
</div>
<div class="section level2">
<h2 id="constructing-base-rate-items-from-typicality-matrices">4. Constructing Base-Rate Items from Typicality Matrices<a class="anchor" aria-label="anchor" href="#constructing-base-rate-items-from-typicality-matrices"></a>
</h2>
<p>To compute stereotype strength using
<code><a href="../reference/extract_base_rate_items.html">extract_base_rate_items()</a></code>, you’ll need a typicality
matrix—a table of scores where rows correspond to groups and columns
correspond to descriptions (e.g., adjectives). Each cell represents how
typical a description is for a group.</p>
<p>For example, you can load the GPT-4 typicality matrix using
download_data() (the same is available for LLaMA 3.3):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' The typicality matrix from GPT-4 is a data frame with group–adjective pairs and their typicality scores</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">gpt4_matrix</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 67</span></span></span>
<span><span class="co">#&gt;   X      intelligent arrogant nerdy  kind  loud careful argumentative persuasive</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> farmer        55       15.2  11.6  75.3  13.8    84.0          21.2       25.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> compu…        90.3     57.8  85.2  42.2  13.4    84.4          30.2       33.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> fligh…        50.2     27.7  11.4  84    21.2    83.9          20.7       39  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> high …        63.6     64.2  14.4  64.4  75.2    74.7          64.2       83.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> denti…        85.9     39.9  23.8  60.8  10.4    90.6          18.8       53.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> lawyer        85.2     74.3  33    33.8  39.6    83.4          83.8       88.6</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 58 more variables: immature &lt;dbl&gt;, active &lt;dbl&gt;, funny &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   disorganized &lt;dbl&gt;, dishonest &lt;dbl&gt;, gentle &lt;dbl&gt;, sensitive &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   creative &lt;dbl&gt;, helpful &lt;dbl&gt;, strong &lt;dbl&gt;, brave &lt;dbl&gt;, bossy &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   unconventional &lt;dbl&gt;, quiet &lt;dbl&gt;, organized &lt;dbl&gt;, reliable &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ambitious &lt;dbl&gt;, charming &lt;dbl&gt;, confident &lt;dbl&gt;, efficient &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   friendly &lt;dbl&gt;, generous &lt;dbl&gt;, naive &lt;dbl&gt;, witty &lt;dbl&gt;, empathetic &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   stubborn &lt;dbl&gt;, trustworthy &lt;dbl&gt;, meticulous &lt;dbl&gt;, inventive &lt;dbl&gt;, …</span></span></span></code></pre></div>
<p>Extract base-rate items by applying the function:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Extract base-rate items from the typicality matrix</span></span>
<span><span class="va">base_rate_items</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_base_rate_items.html">extract_base_rate_items</a></span><span class="op">(</span><span class="va">gpt4_matrix</span><span class="op">)</span></span></code></pre></div>
<p>You can then explore or filter the output, e.g., to view the
strongest stereotypes:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View top base-rate items by stereotype strength</span></span>
<span><span class="va">base_rate_items</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">StereotypeStrength</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;                 Group1          Group2 Description Score1 Score2</span></span>
<span><span class="co">#&gt; 1     fashion designer       paramedic extravagant  82.80    8.0</span></span>
<span><span class="co">#&gt; 2        fashion model       paramedic extravagant  79.60    8.0</span></span>
<span><span class="co">#&gt; 3       music producer       paramedic extravagant  78.04    8.0</span></span>
<span><span class="co">#&gt; 4                hippy fitness trainer        lazy  72.00    7.4</span></span>
<span><span class="co">#&gt; 5              drummer       librarian        loud  83.60    8.6</span></span>
<span><span class="co">#&gt; 6           politician fitness trainer        lazy  71.44    7.4</span></span>
<span><span class="co">#&gt; 7           politician       paramedic extravagant  76.00    8.0</span></span>
<span><span class="co">#&gt; 8                   DJ       librarian        loud  81.20    8.6</span></span>
<span><span class="co">#&gt; 9  aerobics instructor       librarian        loud  80.60    8.6</span></span>
<span><span class="co">#&gt; 10          politician       paramedic     selfish  83.64    9.0</span></span>
<span><span class="co">#&gt;    StereotypeStrength</span></span>
<span><span class="co">#&gt; 1            2.336987</span></span>
<span><span class="co">#&gt; 2            2.297573</span></span>
<span><span class="co">#&gt; 3            2.277780</span></span>
<span><span class="co">#&gt; 4            2.275186</span></span>
<span><span class="co">#&gt; 5            2.274281</span></span>
<span><span class="co">#&gt; 6            2.267378</span></span>
<span><span class="co">#&gt; 7            2.251292</span></span>
<span><span class="co">#&gt; 8            2.245153</span></span>
<span><span class="co">#&gt; 9            2.237736</span></span>
<span><span class="co">#&gt; 10           2.229297</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jeremie Beucler.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
